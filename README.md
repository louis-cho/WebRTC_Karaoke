<img src="https://capsule-render.vercel.app/api?type=waving&color=#a374db&height=150&section=header" />

# ë…¸ë˜ í•´ë°© ğŸµ
![homePage](/uploads/82b358dc3a816ca1cf7360edab0021e2/homePage.png)

## í”„ë¡œì íŠ¸ ì†Œê°œ
- ë‚´ê°€ ë¶€ë¥¸ ë…¸ë˜ë¥¼ snsí˜•íƒœë¡œ ê³µìœ  í•  ìˆ˜ ìˆëŠ” ì›¹ ë…¸ë˜ë°© ì„œë¹„ìŠ¤
- ì‹¤ì‹œê°„ìœ¼ë¡œ ì‚¬ëŒë“¤ ì•ì—ì„œ ë…¸ë˜ë¥¼ ë¶€ë¥´ê³ , í”¼ë“œì— ê³µìœ í• ìˆ˜ ìˆìŠµë‹ˆë‹¤.

## ë§í¬
[![EC2](https://img.shields.io/badge/EC2HOME-FF9900?style=for-the-badge&logo=amazonec2&logoColor=white)](https://i10a705.p.ssafy.io/)

[![logo1-removebg-preview](/uploads/f209be2d2ca10643fce6737fb70ed623/logo1-removebg-preview.png)](https://i10a705.p.ssafy.io/)

[![Notion](https://img.shields.io/badge/notion-000000?style=for-the-badge&logo=notion&logoColor=white)](https://www.notion.so/d3b9636405c8451499659f8d8b4ba876)


#ê°œë°œ í™˜ê²½


# ê¸°ìˆ  ìŠ¤íƒ
<div align=center><h1>ğŸ“š STACKS</h1></div>
<div align=center>
<img src="https://img.shields.io/badge/java-007396?style=for-the-badge&logo=java&logoColor=white">
<img src="https://img.shields.io/badge/springboot-6DB33F?style=for-the-badge&logo=springboot&logoColor=white">
<img src="https://img.shields.io/badge/vue.js-4FC08D?style=for-the-badge&logo=vue.js&logoColor=white">
<img src="https://img.shields.io/badge/Quasar-16B7FB?style=for-the-badge&logo=Quasar&logoColor=white"/>

<br/>

<img src="https://img.shields.io/badge/git-F05032?style=for-the-badge&logo=git&logoColor=white">
<img src="https://img.shields.io/badge/mysql-4479A1?style=for-the-badge&logo=mysql&logoColor=white">
<img src="https://img.shields.io/badge/redis-DC382D?style=for-the-badge&logo=redis&logoColor=white">
<img src="https://img.shields.io/badge/amazons3-569A31?style=for-the-badge&logo=amazons3&logoColor=white">
<img src="https://img.shields.io/badge/JPA-000000?style=for-the-badge&logo=jpa&logoColor=white"/>
<img src="https://img.shields.io/badge/JWT-black?style=for-the-badge&logo=JSON%20web%20tokens&logoColor=white"/>

<br/>

<img src="https://img.shields.io/badge/amazonaws-232F3E?style=for-the-badge&logo=amazonaws&logoColor=white">
<img src="https://img.shields.io/badge/amazonec2-FF9900?style=for-the-badge&logo=amazonec2&logoColor=white">
<img src="https://img.shields.io/badge/nginx-009639?style=for-the-badge&logo=nginx&logoColor=white">
<img src="https://img.shields.io/badge/Docker-2496ED?style=for-the-badge&logo=Docker&logoColor=white"/>
<img src="https://img.shields.io/badge/jenkins-D24939?style=for-the-badge&logo=jenkins&logoColor=white"/>

<br/>

<img src="https://img.shields.io/badge/webrtc-FFE033?style=for-the-badge&logo=webrtc&logoColor=white">
<img src="https://img.shields.io/badge/rabbitmq-FF6600?style=for-the-badge&logo=rabbitmq&logoColor=white">
<img src="https://img.shields.io/badge/elasticsearch-005571?style=for-the-badge&logo=elasticsearch&logoColor=white">
<img src="https://img.shields.io/badge/logstash-005571?style=for-the-badge&logo=logstash&logoColor=white">
<img src="https://img.shields.io/badge/kibana-005571?style=for-the-badge&logo=kibana&logoColor=white">


</div>

# ì•„í‚¤ë„¥ì²˜ êµ¬ì„±ë„
![a705.drawio](/uploads/2f07ef3d0808a1239f11647ffaeb4f9a/a705.drawio.png)

# ìš”êµ¬ì‚¬í•­
[![Notion](https://img.shields.io/badge/notion-000000?style=for-the-badge&logo=notion&logoColor=white)](https://www.notion.so/f7c62f5c6d1a441bbb191911ca3a1e7b?v=13e99663afb74afcb843af0fbe7daef9)

# í™”ë©´ì •ì˜ì„œ 
[![Notion](https://img.shields.io/badge/notion-000000?style=for-the-badge&logo=notion&logoColor=white)](https://www.notion.so/32635f45919f4e62bea19d9727fc7b5f)

# erd
[![ERD Cloud](https://img.shields.io/badge/ERDCloud-000000?style=for-the-badge&logo=ERDCloud&logoColor=white)](https://www.erdcloud.com/d/3SsAyJ6rGXSMzyPcw)

# Figma
[![Figma](https://img.shields.io/badge/figma-F24E1E?style=for-the-badge&logo=figma&logoColor=white)](https://www.figma.com/file/cnHpMUN4kpZ55qLu2FKBD6/%5BNEW%5D-Quick-UXUI-Wireframe-templates!-(%EA%B8%B0%ED%9A%8D%EC%9E%90%EC%99%80-%EB%94%94%EC%9E%90%EC%9D%B4%EB%84%88%EB%A5%BC-%EC%9C%84%ED%95%9C-UXUI-%ED%99%94%EB%A9%B4%EA%B8%B0%ED%9A%8D%EC%84%9C%2F%ED%99%94%EB%A9%B4%EC%84%A4%EA%B3%84%EC%84%9C-%ED%85%9C%ED%94%8C%EB%A6%BF)-(Community)?type=design&node-id=103-2&mode=design&t=VZrVBeL6BKOWOGX8-0)

# ì ‘ì† ì£¼ì†Œ
 [ë…¸ë˜í•´ë°©](http://i10a705.p.ssafy.io)

# í”„ë¡œì íŠ¸ í•œ ì¼(0129 ~ 0202)

### ì´ì¤€ë²”
BE
- í¬ì¸íŠ¸(ë§ˆì¼ë¦¬ì§€)
  - í¬ì¸íŠ¸(ë§ˆì¼ë¦¬ì§€) ì œë„ì— í•„ìš”í•œ api, repositoryì‘ì„±
  - redisë¥¼ ì´ìš©í•œ í˜„ì¬ í¬ì¸íŠ¸ê°’ ìºì‹±
  - redis ë§Œë£Œì‹œ ì¤‘ê°„ í¬ì¸íŠ¸ ê°’ ê°±ì‹  ì‘ì—… (service)

INFRA
- ì¸í”„ë¼
  - ec2ì— mariadb, elk, openvidu ë°°í¬
  - ec2ì— í”„ë¡ íŠ¸ npm run buildë¥¼ í†µí•œ statcí•œ íŒŒì¼ë¡œ ë°°í¬
  - ec2ì— ë°±ì—”ë“œ ì´ë¯¸ì§€ë¡œ ë°°í¬
  - application.propertiesì— ë°°í¬í™˜ê²½ì— ë§ëŠ” í¬íŠ¸ì„¤ì •
  - nginxì—ì„œ httpsë¥¼ í†µí•œ ë¦¬ë²„ìŠ¤ í”„ë¡ì‹œ êµ¬ì¶•. í”„ë¡ íŠ¸-ë°±,    -ë°±-ì˜¤í”ˆë¹„ë‘ ì—°ê²° êµ¬í˜„.
  - í”„ë¡ íŠ¸-ì˜¤í”ˆë¹„ë‘ ë¯¸êµ¬í˜„
---

### ë…¸ì„±ì€
- FE
  - [DM] ë©”ì‹œì§€ íŒŒì‹± ì²˜ë¦¬ (ë©”ì‹œì§€ ì…ë ¥ íƒ€ì… ë”°ë¼ ë‹¤ë¥´ê²Œ ì²˜ë¦¬í•˜ëŠ”)
  - [DM] 1:1 dm í˜ì´ì§€ ìƒì„± 
  - [DM] í…ìŠ¤íŠ¸/ì´ë¯¸ì§€ ì „ì†¡ ê¸°ëŠ¥
  - [DM] ìŠ¤í¬ë¡¤ ê¸°ëŠ¥
  - [DM] ChatPage dm ì‘ì„±ìì— ë”°ë¥¸ ê¸°ëŠ¥ ë¶„ë¦¬ ë¯¸êµ¬í˜„
  - [FEED] SNS ìƒì„¸ í”¼ë“œ í˜ì´ì§€ (FeedDetail) ìƒì„±
  - [FEED] ë³¸ì¸ ê³„ì • í”¼ë“œ í˜ì´ì§€ (MyProfile)ìƒì„±
  - [FEED] í”¼ë“œ ë¦¬ìŠ¤íŠ¸ í˜ì´ì§€ (FeedPage) ìƒì„±
---
### ì†¡ì¤€ì„
- BE
  - [ë…¸ë˜ë°©] ë°±ì—”ë“œ ë…¸ë˜ ìŠ¤ì¼ˆë ˆí†¤ ì½”ë“œ ì‘ì„± 
  - [AWS S3] ë²„í‚· ìƒì„± ë° ì¸ì¦í‚¤ ë°œê¸‰
  - [AWS S3] ì»¤ë„¥ì…˜ ì„¤ì •
  - [AWS S3] S3fileUploader êµ¬í˜„

- FE
  - [ë…¸ë˜ë°©] í¼í™íŠ¸ìŠ¤ì½”ì–´, MMLí˜•ì‹ -> ScoreData íŒŒì‹±í•˜ëŠ” ScoreParser êµ¬í˜„
  - [ë…¸ë˜ë°©] í¼í™íŠ¸ìŠ¤ì½”ì–´, ìŒì„± ì¸ì‹ ë° ì£¼íŒŒìˆ˜ë¡œ ë³€í™˜í•˜ëŠ” ToneDetector êµ¬í˜„
  - [ë…¸ë˜ë°©] í¼í™íŠ¸ìŠ¤ì½”ì–´, ì…ë ¥ ì£¼íŒŒìˆ˜ ë° Scoredataë¥¼ ê·¸ë¦¬ëŠ” ScoreDrawer êµ¬í˜„
  - [ë…¸ë˜ë°©] ì¼ë°˜ëª¨ë“œ, ë…¸ë˜ ë°ì´í„° ë³€í™˜ ë° ì¶œë ¥ êµ¬í˜„
  - [ë…¸ë˜ë°©] ì¼ë°˜ëª¨ë“œ, ì§„í–‰ì¤‘ì¸ ë…¸ë˜ ì‹±í¬ì— ë§ê²Œ ê°€ì‚¬ ë Œë”ë§ êµ¬í˜„
---
### ì¡°í˜„ìš°

- BE
  - [ìœ ì €ì¸ì¦] ì„œë²„ ì¸¡ RSA ë³µí˜¸í™”
  - [ìœ ì €ì¸ì¦] ì„œë²„ ì¸¡ í´ë¼ì´ì–¸íŠ¸ ì•”í˜¸í™” ì •ë³´ í•´ì‹œ ë¹„êµ (bcrypt í•´ì‹œ ë¹„êµ ë° ë³µí˜¸í™”)
  - [ìœ ì €ì¸ì¦] AOPë¥¼ í™œìš©í•´ ë°±ì—”ë“œ ì„œë²„ í•¨ìˆ˜ í˜¸ì¶œ ì‹œ í•¨ìˆ˜ ì •ë³´ ì¶œë ¥
  - [ìœ ì €ì¸ì¦] RSA Key Manager ê°œë°œ key-value : ip- ë¹„ëŒ€ì¹­ KeyPair
  - [ìœ ì €ì¸ì¦] RSA Key Manager Clean up ìŠ¤ì¼€ì¤„ëŸ¬ ê°œë°œ - ë§ˆì§€ë§‰ ìš”ì²­ìœ¼ë¡œë¶€í„° 10ë¶„ ì´í›„ ì‚­ì œ
  - [ìœ ì €] ì‹œìŠ¤í…œ ë‚´ë¶€ì—ì„œëŠ” Autoincrement INT Type user primary key, ì‹œìŠ¤í…œ ì™¸ë¶€ì—ì„œëŠ” UUIDë¥¼ ì‚¬ìš©í•˜ë„ë¡ êµ¬ì„± (ì„±ëŠ¥, ë³´ì•ˆ)
  - [ì›¹ì†Œì¼“] ë°±ì—”ë“œ ì›¹ì†Œì¼“ ìŠ¤ì¼ˆë ˆí†¤ ì½”ë“œ ê°œë°œ
  - [ì•Œë¦¼] ì•Œë¦¼ ê¸°ëŠ¥ êµ¬í˜„ (SSE)
  - [ê²€ìƒ‰] ELK docker-compose ì„¤ì •
  - [ê²€ìƒ‰] Logstashë¥¼ í†µí•´ MySQL - Elasticsearch ë°ì´í„° ë™ê¸°í™”
  - [ê²€ìƒ‰] Elasticsearch Spring boot ì—°ë™
  - [ê²€ìƒ‰] Elasticsearchë¥¼ í†µí•´ ìœ ì € ë‹‰ë„¤ì„ ê²€ìƒ‰ ì‹œ INT Type user primary key ë°˜í™˜
  - [ê²€ìƒ‰] Elasticsearch + Logstash + MySQLì„ í†µí•œ ê²Œì‹œê¸€ í”¼ë“œ ë­í‚¹ ì„œë¹„ìŠ¤ ê°œë°œ
  - [ë°œí‘œ] í”„ë¡œì íŠ¸ ê¸°íš ë°œí‘œ ë‹´ë‹¹
  - [ëŒ“ê¸€] ë°±ì—”ë“œ ëŒ“ê¸€ ìŠ¤ì¼ˆë ˆí†¤ ì½”ë“œ ì‘ì„±
  - [í”¼ë“œ] ë°±ì—”ë“œ í”¼ë“œ ìŠ¤ì¼ˆë ˆí†¤ ì½”ë“œ ì‘ì„±
  - [ì¢‹ì•„ìš”] ë°±ì—”ë“œ ì¢‹ì•„ìš” ìŠ¤ì¼ˆë ˆí†¤ ì½”ë“œ ì‘ì„±
  - [DM] ë°±ì—”ë“œ Websocket ìŠ¤ì¼ˆë ˆí†¤ ì½”ë“œ ì‘ì„±
  - [DB] Redis <-> MySQL ë™ê¸°í™” ìŠ¤ì¼ˆë ˆí†¤ ì½”ë“œ ì‘ì„±

- FE
  - [í™˜ê²½ì„¤ì •] í”„ë¡ íŠ¸ì—”ë“œ vue & quasar í”„ë ˆì„ì›Œí¬ í™˜ê²½ ì„¤ì •
  - [ìœ ì €ì¸ì¦] í´ë¼ì´ì–¸íŠ¸ RSA ì•”í˜¸í™”
  - [DM] í´ë¼ì´ì–¸íŠ¸ Websocket ìŠ¤ì¼ˆë ˆí†¤ ì½”ë“œ ì‘ì„±


---
### ì—°ì •í 
[BE] DM
- STOMP pub sub & RabbitMQ & Redis & MySQL í™œìš© DM(ì±„íŒ…) êµ¬í˜„
- [DM] STOMP ì‹¤ì‹œê°„ ì±„íŒ… êµ¬í˜„
- [DM] STOMPì™€ RabbitMQ ì—°ë™
- [DM] ì±„íŒ…ë°© & ì±„íŒ…ë‚´ì—­ JPA í™œìš© DB ì €ì¥
- [DM] ì´ì „ ì±„íŒ… ë‚´ì—­ ë° ìƒˆë¡œìš´ ì±„íŒ… ë‚´ì—­ mySQL <-> Redis ë¡œë”© ë° ì €ì¥
- [DM] redisì— ì´ì „ ì±„íŒ… ë‚´ì—­ì´ ì¡´ì¬í•˜ì§€ ì•Šì„ ê²½ìš° db ì¡°íšŒ í›„ redis ì €ì¥
- [DM] ìŠ¤ì¼€ì¤„ë§(Batch)ì„ ìœ„í•œ ë¡œì§ êµ¬í˜„ ë° redis ìºì‹œ ì‚­ì œ
- [DM] ì±„íŒ…ë°© ì…ì¥ ì‹œ, ì´ì „ ì±„íŒ… ë‚´ì—­ ì¤‘ ê°€ì¥ ìµœê·¼ ë‚ ì§œ ë°ì´í„° ë¡œë”©
---
### ê³ ì •ì›
- __BE__
  - __[ë…¸ë˜ë°©_ì„¸ì…˜] ë…¸ë˜ë°© ìƒì„± ë° ì…ì¥__
    - SessionNameìœ¼ë¡œ OpenVidu Session ê°ì²´ ìƒì„±, ì´ë¯¸ ì¡´ì¬í•˜ë©´ ìƒì„±í•˜ì§€ ì•Šê³  ê°€ì ¸ì˜´
    - ì„¸ì…˜ì— ì—°ê²°ëœ Connection ê°ì²´ ìƒì„±(ì…ì¥í•˜ê¸°)
    - BE ì„œë²„ì— Sessionê³¼ Tokenì„ ì €ì¥í•˜ì—¬ ê´€ë¦¬
    - Connection ê°ì²´ì˜ í† í° ë°˜í™˜

  - __[ë…¸ë˜ë°©_ì„¸ì…˜]  ë…¸ë˜ë°© í‡´ì¥ ë° ì œê±°__
    - SessionNameê³¼ Tokenìœ¼ë¡œ í•´ë‹¹í•˜ëŠ” Sessionì—ì„œ Token ì œê±°
    - í•´ë‹¹ Sessionì— ë”ì´ìƒ Tokenì´ ì¡´ì¬í•˜ì§€ ì•Šìœ¼ë©´ Sessionë„ ì œê±°

  - __[ë…¸ë˜ë°©_ì„¸ì…˜] ë…¸ë˜ë°© ì œê±°__
    - SessionNameì— í•´ë‹¹í•˜ëŠ” Session ê°•ì œ ì œê±°
    - Sessionì— ë“¤ì–´ì™€ìˆë˜ Tokenë„ ëª¨ë‘ ì œê±°

  - __[ë…¸ë˜ë°©_ì„¸ì…˜] ë…¸ë˜ë°© ë¦¬ìŠ¤íŠ¸__
    - OpenVidu ì„œë²„ì— ìƒì„±ëœ ëª¨ë“  Session ì •ë³´ ë°˜í™˜

  - __[ë…¸ë˜ë°©_ì„¸ì…˜] ë…¸ë˜ë°© ì •ë³´__
    - SessionNameì— í•´ë‹¹í•˜ëŠ” Sessionì˜ ì •ë³´ ë³´ê¸°

  - __[ë…¸ë˜ë°©_ë…¹í™”] ë…¹í™” ì‹œì‘__
    - SessionNameì— í•´ë‹¹í•˜ëŠ” ì„¸ì…˜ ë…¹í™” ì‹œì‘
    - OutputModeë¥¼ ì„¤ì •í•  ìˆ˜ ìˆìŒ(Computed, Individual)

  - __[ë…¸ë˜ë°©_ë…¹í™”] ë…¹í™” ì¢…ë£Œ__
    - ë…¹í™” ì¢…ë£Œ, ë…¹í™”ëœ ì˜ìƒì€ OpenVidu ì„œë²„ì— ì €ì¥
    - urlì„ í†µí•´ ì €ì¥ëœ ì˜ìƒ í™•ì¸ ê°€ëŠ¥

  - __[ë…¸ë˜ë°©_ë…¹í™”] ë…¹í™” ì˜ìƒ ì œê±°__
    - RecordingIdì— í•´ë‹¹í•˜ëŠ” ë…¹í™” ì˜ìƒì„ OpenVidu ì„œë²„ì—ì„œ ì œê±°

  - __[ë…¸ë˜ë°©_ë…¹í™”] ë…¹í™” ì˜ìƒ ì •ë³´__
    - RecordingIdì— í•´ë‹¹í•˜ëŠ” ë…¹í™” ì˜ìƒì˜ ì •ë³´ ë°˜í™˜

  - __[ë…¸ë˜ë°©_ë…¹í™”] ë…¹í™” ì˜ìƒ ë¦¬ìŠ¤íŠ¸__
    - OpenVidu ì„œë²„ì— ì €ì¥ë˜ì–´ìˆëŠ” ëª¨ë“  ì˜ìƒ ì •ë³´ ë°˜í™˜

  - __[ë…¸ë˜ë°©_ë…¹í™”] ë…¹í™” ì˜ìƒ ì—…ë¡œë“œ__
    - OpenViduì— ì €ì¥ë˜ì–´ ìˆëŠ” ì˜ìƒì„ AWS S3ì— ì—…ë¡œë“œ
    - OpenVidu ì„œë²„ -> BackEnd ì„œë²„ì— ì €ì¥ -> AWS S3ì— ì €ì¥

- __FE__
  - [ë…¸ë˜ë°©] ìƒì„±ëœ ë…¸ë˜ë°©ì„ ë¦¬ìŠ¤íŠ¸ë¡œ ì¶œë ¥
  - [ë…¸ë˜ë°©] ì œëª©ê³¼ ì¼ì¹˜í•˜ëŠ” ë…¸ë˜ë°© ìƒì„± ë° ì…ì¥
  - [ë…¸ë˜ë°©] ë…¸ë˜ë°© ë‚˜ê°€ê¸°
  - [ë…¸ë˜ë°©] ë…¸ë˜ë°© ë‚´ í™”ìƒì±„íŒ… êµ¬í˜„
  - [ë…¸ë˜ë°©] ìŒì„±í•„í„° ì ìš©í•˜ê¸°(ì—ì½”, ì¦í­, í”¼ì¹˜), ì ìš©í•  í•„í„°ë¥¼ ê³ ë¥´ê³  ê°•ë„ ì„¤ì •
  - [ë…¸ë˜ë°©] ë…¸ë˜ë°© ë‚´ ì±„íŒ… êµ¬í˜„
  - [ë…¸ë˜ë°©] ì¹´ë©”ë¼, ë§ˆì´í¬ on/off ê¸°ëŠ¥ êµ¬í˜„
  - [ë…¸ë˜ë°©] ì¹´ë©”ë¼, ë§ˆì´í¬ ë³€ê²½ ê¸°ëŠ¥ êµ¬í˜„
  - [ë…¸ë˜ë°©] ë…¹í™” ì‹œì‘, ì¢…ë£Œ, í™•ì¸, ì‚­ì œ êµ¬í˜„ -> ì €ì¥ëª¨ë“œ, ì¹´ë©”ë¼, ë§ˆì´í¬ ì‚¬ìš©ì—¬ë¶€ ì„ íƒ ê°€ëŠ¥

___
# firstPjtTest

ê³µí†µí…ŒìŠ¤íŠ¸

## src/pages/HomePage.vue

-   vertical carousel
-   ì¼ë‹¨ í˜ì´ì§€ ë¬¸êµ¬ë§Œ ê¸°ì…í•¨
-   ë¡œê·¸ì¸/íšŒì›ê°€ì… ì§„í–‰ë˜ëŠ” ëª¨ë‹¬ ë§Œë“¦(src/components/StartTest.vue)
-   > src/components/SignIn.vueëŠ” ë¡œê·¸ì¸ ëª¨ë‹¬, íšŒì›ê°€ì… ëª¨ë‹¬ ë”°ë¡œ ë§Œë“  ê²ƒ

-   ì¨ë“œ íŒŒí‹° ë¡œê·¸ì¸ì€ ë” ê³µë¶€í•´ì•¼ í•¨
-   í™ˆí˜ì´ì§€ ë°°ê²½ìƒ‰, ì•„ì´ì½˜, gif ì¶”í›„ ì¶”ê°€ í•´ì•¼í•¨

# OPENVIDU TEST

## ê¸°ì¡´ server ë³€ê²½ì 

-   application.properities ê°’ ì¶”ê°€
-   OpenViduAPI.java íŒŒì¼ ì¶”ê°€
-   build.gradleì— dependency ì¶”ê°€

## DOCKERì— OPENVIDU ë„ìš°ê¸°

-   DOCKER ì„¤ì¹˜ í›„, cmd ì°½ì—ì„œ

```
docker run -p 4443:4443 --rm -e OPENVIDU_SECRET=MY_SECRET -e OPENVIDU_RECORDING=true -e OPENVIDU_RECORDING_PATH=/opt/openvidu/recordings -v /var/run/docker.sock:/var/run/docker.sock -v /opt/openvidu/recordings:/opt/openvidu/recordings openvidu/openvidu-dev:2.29.0
```

## ë°±ì„œë²„ëŠ” ê·¸ëŒ€ë¡œ ì‹¤í–‰(port=5000)

## í”„ë¡ íŠ¸ ì„œë²„ ë„ìš°ê¸°

```
cd S10P12A705/front
npm install
npm run serve
```

-   ì´í›„ localhost:8080ìœ¼ë¡œ ì ‘ì†í•´ì„œ í™•ì¸
-   localhost:4443ì—ì„œ connectionTest ê°€ëŠ¥
-   í•„í„° ì¶”ê°€

## ELK stack ì„¤ì¹˜ ë° í™•ì¸í•˜ê¸°

### íŒ¨í‚¤ì§€ ëª©ë¡ ì—…ë°ì´íŠ¸

```
sudo apt-get update
```

### Docker ì„¤ì¹˜

```
sudo apt-get install docker.io
```

### Docker ì„œë¹„ìŠ¤ ì‹œì‘

```
sudo systemctl start docker
```

### ë¶€íŒ… ì‹œì— Docker ìë™ ì‹¤í–‰ ì„¤ì •

```
sudo systemctl enable docker
```

### Docker Compose ì„¤ì¹˜

```
sudo apt-get install docker-compose
```

### gedit í…ìŠ¤íŠ¸ í¸ì§‘ê¸° ì„¤ì¹˜

```
sudo apt-get install gedit
```

```
$ mkdir [í”„ë¡œì íŠ¸ í´ë”]
$ cd [í”„ë¡œì íŠ¸ í´ë”]
$ gedit docker-compose.yml
```

// docker-compose.yml
```
version: '3.6'
services:
  Elasticsearch:
    image: elasticsearch:7.17.16
    container_name: elasticsearch
    restart: always
    volumes:
    - elastic_data:/usr/share/elasticsearch/data/
    environment:
      ES_JAVA_OPTS: "-Xmx256m -Xms256m"
      discovery.type: single-node
    ports:
    - '9200:9200'
    - '9300:9300'
    networks:
      - elk

  Logstash:
    image: logstash:7.17.16
    container_name: logstash
    restart: always
    volumes:
    - ./logstash/:/logstash_dir
    command: logstash -f /logstash_dir/logstash.conf
    depends_on:
      - Elasticsearch
    ports:
    - '9600:9600'
    environment:
      LS_JAVA_OPTS: "-Xmx256m -Xms256m"
    networks:
      - elk

  Kibana:
    image: kibana:7.17.16
    container_name: kibana
    restart: always
    ports:
    - '5601:5601'
    environment:
      - ELASTICSEARCH_URL=http://elasticsearch:9200
    depends_on:
      - Elasticsearch
    networks:
      - elk
volumes:
  elastic_data: {}

networks:
  elk:

```
// end of docker-compose.yml

```
$ mkdir logstash
$ cd logstash
$ gedit logstash.conf
```

// mysql ì„¤ì •
```
# mysql connector java jar ë‹¤ìš´ë¡œë“œ
wget https://repo1.maven.org/maven2/mysql/mysql-connector-java/8.0.30/mysql-connector-java-8.0.30.jar

# ì••ì¶• í•´ì œ
tar -xzf mysql-connector-java-8.0.30.tar.gz

# Logstash ì„¤ì¹˜ ë””ë ‰í† ë¦¬ë¡œ ì´ë™
cd [logstash_dir]

# ë‹¤ìš´ë¡œë“œ ë°›ì€ JAR íŒŒì¼ì„ í•´ë‹¹ ë””ë ‰í† ë¦¬ë¡œ ì´ë™
mv /path/to/mysql-connector-java-8.0.30.jar /path/to/logstash/
```

// logstash.conf
```
# synchronization with elasticseasrch & mysql
input {
  
  jdbc {
    jdbc_connection_string => "jdbc:mysql://i10a705.p.ssafy.io:3306/testuser"
    jdbc_user => "root"
    jdbc_password => "1234"
    jdbc_driver_library => "/logstash_dir/mysql-connector-java-8.0.30.jar"
    jdbc_driver_class => "com.mysql.cj.jdbc.Driver"
    
    statement => "SELECT * FROM likes WHERE timestamp > :sql_last_value"
    
    schedule => "*/10 * * * * *"
    use_column_value => true
    tracking_column => "timestamp"
    tracking_column_type => "timestamp"
    clean_run => false
    type => "like"
  }
  
  jdbc {
    jdbc_connection_string => "jdbc:mysql://i10a705.p.ssafy.io:3306/testuser"
    jdbc_user => "root"
    jdbc_password => "1234"
    jdbc_driver_library => "/logstash_dir/mysql-connector-java-8.0.30.jar"
    jdbc_driver_class => "com.mysql.cj.jdbc.Driver"
    
    statement => "SELECT * FROM hit WHERE timestamp > :sql_last_value"
    
    schedule => "*/10 * * * * *"
    use_column_value => true
    tracking_column => "timestamp"
    tracking_column_type => "timestamp"
    clean_run => false
    type => "hit"
  }
}

filter {
  # mutate {
  #  remove_field => ["introduction", "profile_img_url", "role", "user_key"]
  # }
}

output {
  if [type] == "like" {
    elasticsearch {
      hosts => ["elasticsearch:9200"]
      index => "likes"
    }
  }
  
  if [type] == "hit" {
  	elasticsearch {
  	  hosts => ["elasticsearch:9200"]
  	  index => "hit"
  	}
  }
  
  stdout { codec => rubydebug }
}


filter {
}

output {
  if [type] == "like" {
    elasticsearch {
      hosts => ["localhost:9200"]
      index => "like"                             # indexë¥¼ likeë¡œ ë°ì´í„° ë™ê¸°í™”
    }
  }

  if [type] == "view" {
    elasticsearch {
      hosts => ["localhost:9200"]
      index => "hit"                              # indexë¥¼ hitë¡œ ë°ì´í„° ë™ê¸°í™”
    }
  }
}

```
// end of logstash-config

```
$ docker-compose up
```

localhost:5601ë¡œ ì ‘ì†í•˜ë©´ í™•ì¸ ê°€ëŠ¥

# ë””ë ‰í† ë¦¬ êµ¬ì¡°
```
â”œâ”€front
â”‚  â”œâ”€docker
â”‚  â”œâ”€public
â”‚  â”‚  â””â”€resources
â”‚  â”‚      â””â”€images
â”‚  â””â”€src
â”‚      â”œâ”€assets
â”‚      â”‚  â”œâ”€icon
â”‚      â”‚  â””â”€img
â”‚      â”œâ”€boot
â”‚      â”œâ”€components
â”‚      â”‚  â””â”€karaoke
â”‚      â”œâ”€css
â”‚      â”œâ”€js
â”‚      â”‚  â”œâ”€chat
â”‚      â”‚  â”œâ”€config
â”‚      â”‚  â”œâ”€encrypt
â”‚      â”‚  â”œâ”€karaoke
â”‚      â”‚  â”œâ”€perfectScore
â”‚      â”‚  â””â”€websocket
â”‚      â”œâ”€layouts
â”‚      â”œâ”€pages
â”‚      â”œâ”€router
â”‚      â””â”€stores
â””â”€server
    â””â”€src
        â”œâ”€main
        â”‚  â”œâ”€java
        â”‚  â”‚  â””â”€com
        â”‚  â”‚      â””â”€ssafy
        â”‚  â”‚          â””â”€server
        â”‚  â”‚              â”œâ”€audit
        â”‚  â”‚              â”œâ”€chat
        â”‚  â”‚              â”‚  â”œâ”€controller
        â”‚  â”‚              â”‚  â”œâ”€model
        â”‚  â”‚              â”‚  â”œâ”€repository
        â”‚  â”‚              â”‚  â””â”€service
        â”‚  â”‚              â”œâ”€comment
        â”‚  â”‚              â”‚  â”œâ”€controller
        â”‚  â”‚              â”‚  â”œâ”€model
        â”‚  â”‚              â”‚  â”œâ”€repository
        â”‚  â”‚              â”‚  â””â”€service
        â”‚  â”‚              â”œâ”€common
        â”‚  â”‚              â”‚  â””â”€util
        â”‚  â”‚              â”œâ”€config
        â”‚  â”‚              â”œâ”€exception
        â”‚  â”‚              â”‚  â”œâ”€feed
        â”‚  â”‚              â”‚  â”œâ”€like
        â”‚  â”‚              â”‚  â”œâ”€request
        â”‚  â”‚              â”‚  â””â”€user
        â”‚  â”‚              â”œâ”€feed
        â”‚  â”‚              â”‚  â”œâ”€controller
        â”‚  â”‚              â”‚  â”œâ”€model
        â”‚  â”‚              â”‚  â”œâ”€rank
        â”‚  â”‚              â”‚  â”‚  â”œâ”€document
        â”‚  â”‚              â”‚  â”‚  â”œâ”€model
        â”‚  â”‚              â”‚  â”‚  â””â”€service
        â”‚  â”‚              â”‚  â”œâ”€repository
        â”‚  â”‚              â”‚  â””â”€service
        â”‚  â”‚              â”œâ”€hit
        â”‚  â”‚              â”‚  â”œâ”€controller
        â”‚  â”‚              â”‚  â”œâ”€document
        â”‚  â”‚              â”‚  â”œâ”€model
        â”‚  â”‚              â”‚  â”œâ”€repository
        â”‚  â”‚              â”‚  â””â”€service
        â”‚  â”‚              â”œâ”€karaoke
        â”‚  â”‚              â”‚  â”œâ”€controller
        â”‚  â”‚              â”‚  â”œâ”€model
        â”‚  â”‚              â”‚  â”œâ”€repository
        â”‚  â”‚              â”‚  â””â”€service
        â”‚  â”‚              â”œâ”€like
        â”‚  â”‚              â”‚  â”œâ”€controller
        â”‚  â”‚              â”‚  â”œâ”€document
        â”‚  â”‚              â”‚  â”œâ”€model
        â”‚  â”‚              â”‚  â”œâ”€repository
        â”‚  â”‚              â”‚  â””â”€service
        â”‚  â”‚              â”œâ”€notification
        â”‚  â”‚              â”œâ”€point
        â”‚  â”‚              â”‚  â”œâ”€controller
        â”‚  â”‚              â”‚  â”œâ”€model
        â”‚  â”‚              â”‚  â”‚  â”œâ”€dto
        â”‚  â”‚              â”‚  â”‚  â””â”€entity
        â”‚  â”‚              â”‚  â”œâ”€repository
        â”‚  â”‚              â”‚  â””â”€service
        â”‚  â”‚              â”œâ”€syncdata
        â”‚  â”‚              â””â”€user
        â”‚  â”‚                  â”œâ”€auth
        â”‚  â”‚                  â”œâ”€controller
        â”‚  â”‚                  â”œâ”€document
        â”‚  â”‚                  â”œâ”€model
        â”‚  â”‚                  â”œâ”€repository
        â”‚  â”‚                  â”œâ”€secure
        â”‚  â”‚                  â”œâ”€service
        â”‚  â”‚                  â””â”€util
        â”‚  â””â”€resources
        â”‚      â””â”€templates
        â””â”€test
            â””â”€java
                â””â”€com
                    â””â”€ssafy
                        â””â”€server
```

<img src="https://capsule-render.vercel.app/api?section=footer&type=waving&color=#a374db&height=150" />
